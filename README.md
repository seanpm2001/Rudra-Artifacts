# Artifact Evaluation Submission for RUDRA [SOSP '21]

**Paper**: RUDRA: Finding Memory Safety Bugs in Rust at the Ecosystem Scale


## Overview

Directory structure:

```
ðŸ“¦ Rudra-Artifacts
â”£ ðŸ“„ paper (The paper and abstract as accepted to SOSP)
```

### Inputs/Outputs

Rudra itself is an analyzer that takes Rust packages (crates) as inputs and
outputs reports from the findings of bug-finding algorithms. As an example,
here is a screenshot of a Rust package containing a bug and its corresponding
report generated by Rudra.

## Getting Started & Basic Usage

You will need the following to evaluate Rudra:

* git
* Python 3
* [Docker](https://www.docker.com/)
* About 40 GB of disk space if running on all crates.io packages.

Download times in steps are based on a gigabit internet connection.

## Installing the Artifact (X human-minutes + XX compute-minutes)

This guide describes how to use Rudra with Docker on Linux environment.

1. Install [Docker](https://docs.docker.com/get-docker/) and Python 3 on your system.
2. Clone [Rudra](https://github.com/sslab-gatech/Rudra) and [Rudra-Artifact](https://github.com/sslab-gatech/Rudra-Artifacts) repositories.
3. In Rudra repository, run `docker build . -t rudra:latest`.
4. In Rudra repository, run `./setup_rudra_runner_home_fixed.py <directory>` and set `RUDRA_RUNNER_HOME` to that directory.
   Example: `./setup_rudra_runner_home_fixed.py ~/rudra-home && export RUDRA_RUNNER_HOME=$HOME/rudra-home`.
    * Note: be careful NOT to run `./setup_rudra_runner_home.py`
5. Add `docker-helper` in Rudra repository to `$PATH`. Now you are ready to test Rudra!

## Basic Usability Test: Running Rudra on a single project (XX human-minutes + XX compute-minutes)

```
docker-cargo-rudra <directory>
```

The log and report are printed to stderr by default.

TODO: choose an example project and describe the expected output

## Validating Bugs from Paper (XX human-minutes + XX compute-minutes)

TODO: update test scripts to use Docker-based Rudra (rudra-poc/paper/recreate_bugs.py)

## Validating Rust standard library bugs (XX human-minutes + XX compute-minutes)

TODO: rudra/stdlib-analysis

## Validating Evaluation on crates.io Packages (XX human-minutes + XX compute-hours)

First, download `rudra_runner_home-cached.tar.gz` from TODO and unpack it to `$RUDRA_RUNNER_HOME`.
Then, you can run Rudra on all crates published on crates.io with the following command.

```
docker-rudra-runner
```

This step took 6.5 hours on a machine with 32-core AMD EPYC 7452, 252 GB memory, and an NVMe SSD that runs Ubuntu 20.04.
The analysis result will be saved in `$RUDRA_RUNNER_HOME/campaign/YYYYMMDD_HHmmss/[log|report]` directories.

TODO: explain how to use our log analysis scripts to verify the result (rudra-poc/paper/log_analyzer.py)

## Re-using Rudra Beyond the Paper (30 human-minutes)

Rudra's code can be used as an extensible framework for future research for
ecosystem or package level analysis. In particular, Rudra allows new bug finding
algorithms to be integrated easily, taking full advantage of the reporting
mechanism.

The following tutorial guides the user through the creation of a bug finding
algorithm that flags usages of the function `crash_me("please")` across all
Rust code.
